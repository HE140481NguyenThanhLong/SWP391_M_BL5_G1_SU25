<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<!-- Filters + Single Product (static only) -->
<div class="grid grid-cols-1 gap-6 lg:grid-cols-12">
    <!-- Sidebar Filter (form submits to backend) -->
    <aside class="lg:col-span-3">
        <form action="/products" method="get"
              class="rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-700 dark:bg-gray-800">
            <div class="mb-4 flex items-center justify-between">
                <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Filters</h2>
                <a href="/products" class="text-sm text-indigo-600 hover:underline dark:text-indigo-400">Clear</a>
            </div>

            <!-- Collapsible Filters (Flowbite Accordion) -->
            <div id="filter-accordion" data-accordion="collapse"
                 class="divide-y divide-gray-200 dark:divide-gray-700">

                <!-- Category (single checkbox) -->
                <h3 id="acc-cat-heading">
                    <button type="button"
                            class="flex w-full items-center justify-between rounded-lg p-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"
                            data-accordion-target="#acc-cat-body" aria-expanded="true" aria-controls="acc-cat-body">
                        <span>Category</span>
                        <svg data-accordion-icon class="h-4 w-4 shrink-0 transition" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m6 9 6 6 6-6"/></svg>
                    </button>
                </h3>
                <div id="acc-cat-body" class="" aria-labelledby="acc-cat-heading">
                    <div class="p-3 pt-0">
                        <label class="flex items-center gap-2">
                            <input id="cat-option" name="category" type="checkbox" value="Headphones"
                                   class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700" />
                            <!-- th:checked="${param.category != null}" th:value="${selectedCategory}" -->

                            <span class="text-sm text-gray-700 dark:text-gray-300">Headphones</span>
                        </label>
                    </div>
                </div>

                <!-- Price (single checkbox) -->
                <h3 id="acc-price-heading">
                    <button type="button"
                            class="flex w-full items-center justify-between rounded-lg p-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"
                            data-accordion-target="#acc-price-body" aria-expanded="false" aria-controls="acc-price-body">
                        <span>Price</span>
                        <svg data-accordion-icon class="h-4 w-4 shrink-0 transition" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m6 9 6 6 6-6"/></svg>
                    </button>
                </h3>
                <div id="acc-price-body" class="hidden" aria-labelledby="acc-price-heading">
                    <div class="p-3 pt-0">
                        <label class="flex items-center gap-2">
                            <input id="price-range" name="price" type="checkbox" value="0-100"
                                   class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700"  />
                            <!-- th:checked="${param.price != null}" th:value="${selectedPriceRange}" -->

                            <span class="text-sm text-gray-700 dark:text-gray-300">$0 â€“ $100</span>
                        </label>
                    </div>
                </div>

                <!-- Time (single checkbox) -->
                <h3 id="acc-time-heading">
                    <button type="button"
                            class="flex w-full items-center justify-between rounded-lg p-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"
                            data-accordion-target="#acc-time-body" aria-expanded="false" aria-controls="acc-time-body">
                        <span>Time</span>
                        <svg data-accordion-icon class="h-4 w-4 shrink-0 transition" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m6 9 6 6 6-6"/></svg>
                    </button>
                </h3>
                <div id="acc-time-body" class="hidden" aria-labelledby="acc-time-heading">
                    <div class="p-3 pt-0">
                        <label class="flex items-center gap-2">
                            <input id="time-window" name="time" type="checkbox" value="7d"
                                   class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700"   />
                            <!-- th:checked="${param.time != null}" th:value="${selectedTimeWindow}" -->

                            <span class="text-sm text-gray-700 dark:text-gray-300">Last 7 days</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Submit filters -->
            <div class="mt-4">
                <button type="submit"
                        class="inline-flex w-full items-center justify-center rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    Apply filters
                </button>
            </div>
        </form>
    </aside>

    <!-- Products (single card; duplicate with Thymeleaf later) -->
    <section class="lg:col-span-9">
        <div class="mb-4 flex items-center justify-between">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Products</h2>
            <!-- Optionally render result count server-side -->
            <!-- <p class="text-sm text-gray-600 dark:text-gray-300" th:text="${products.size()} + ' results'">1 result</p> -->
        </div>

        <div id="product-grid" class="grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3">
            <!-- Single Product Card -->
            <article
                    class="group relative overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm transition-transform duration-300 hover:-translate-y-0.5 hover:shadow-lg dark:border-gray-700 dark:bg-gray-800"
                    data-category="Headphones" data-price="89" data-added="2025-08-10"/>
            <!-- th:attr="data-category=${product.category},data-price=${product.price},data-added=${product.addedDate}" -->

            <div class="overflow-hidden">
                <img
                        src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop"
                        alt="Wireless Headphones"
                        class="h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105"
                        loading="lazy"  />
                <!-- th:src="${product.imageUrl}" th:alt="${product.name}" -->

            </div>
            <div class="p-4">
                <div class="mb-1 flex items-start justify-between gap-3">
                    <h3 class="text-base font-semibold text-gray-900 dark:text-gray-100"
                    >Wireless Headphones</h3><!-- th:text="${product.name}" -->
                    <span
                            class="shrink-0 rounded-md bg-indigo-50 px-2.5 py-1 text-sm font-medium text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200"
                    >$89.00</span><!-- th:text="${#numbers.formatDecimal(product.price, 1, 'COMMA', 2, 'POINT')}" -->
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300"
                >Noise-cancelling, 30h battery, ultra-soft cushions.</p><!-- th:text="${product.description}" -->

                <!-- Add to cart (POST to backend) -->
                <form action="/cart/add" method="post" class="mt-4"/>
                <!-- th:action="@{/cart/add}" -->

                <!-- CSRF (Spring Security) -->
                <!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->

                <input type="hidden" name="productId" value="123"/> <!-- th:value="${product.id}" -->
                <input type="hidden" name="quantity"  value="1"   />

                <button type="submit"
                        class="inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l3-8H6.4M7 13l-1.6-8M7 13l-2 9m12-9l-2 9M9 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm8 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    </svg>
                    Add to cart
                </button>
                </form>
            </div>
            </article>

            <!-- Thymeleaf loop (when ready):
            <article class="group ..." th:each="product : ${products}"
                     th:attr="data-category=${product.category},data-price=${product.price},data-added=${product.addedDate}">
              ...
              <form th:action="@{/cart/add}" method="post">
                <input type="hidden" name="productId" th:value="${product.id}" />
                <input type="hidden" name="quantity" value="1" />
                <button type="submit" class="...">Add to cart</button>
              </form>
            </article>
            -->
        </div>
    </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
</body>
</html>